<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cổng Tra Cứu Điểm Đánh Giá Năng Lực – ĐHQG‑HCM</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
  </head>
  <body class="min-h-screen bg-gray-50 font-sans text-gray-800 antialiased">
    <!-- Navbar -->
    <header class="fixed inset-x-0 top-0 z-40 flex items-center justify-between bg-green-700/90 px-6 py-3 text-white shadow-lg backdrop-blur-md">
      <a href="#" class="flex items-center gap-2 text-lg font-semibold">
        <i class="ph ph-magnifying-glass text-2xl"></i>
        Tra Cứu Điểm ĐGNL
      </a>
      <nav class="hidden space-x-8 md:flex">
        <a href="#guide" class="hover:text-yellow-200">Hướng dẫn</a>
        <a href="#faq" class="hover:text-yellow-200">FAQ</a>
      </nav>
      <button id="btnMenu" class="md:hidden"><i class="ph ph-list text-2xl"></i></button>
    </header>

    <!-- Mobile Drawer -->
    <aside id="mobileMenu" class="fixed inset-y-0 left-0 z-30 w-64 -translate-x-full transform bg-white shadow-lg transition-transform duration-300">
      <div class="flex items-center justify-between bg-green-700 px-6 py-4 text-white">
        <span class="text-lg font-semibold">Menu</span>
        <button id="btnCloseMenu"><i class="ph ph-x text-2xl"></i></button>
      </div>
      <nav class="flex flex-col gap-4 p-6">
        <a href="#guide" class="text-gray-700 hover:text-green-600">Hướng dẫn</a>
        <a href="#faq" class="text-gray-700 hover:text-green-600">FAQ</a>
      </nav>
    </aside>

    <!-- Hero + Lookup Form -->
    <main class="flex flex-col items-center justify-center pt-28 pb-16">
      <section class="w-full max-w-xl px-6 text-center">
        <h1 class="mb-6 text-3xl font-extrabold text-green-700 md:text-4xl">
          Tra Cứu Kết Quả Kỳ Thi Đánh Giá Năng Lực 2025
        </h1>
        <p class="mb-8 text-gray-600">
          Nhập <span class="font-medium">Số báo danh</span>, <span class="font-medium">Căn cước công dân</span> và <span class="font-medium">Ngày sinh</span> để xem điểm thi. Hệ thống sẽ trả về kết quả chuẩn duy nhất như mẫu công bố.
        </p>

        <form id="lookupForm" class="space-y-6 rounded-xl bg-white p-6 shadow-md">
          <div>
            <label for="candid" class="mb-1 block text-sm font-medium">Số báo danh</label>
            <input type="text" id="candid" required minlength="6" maxlength="12" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-600 focus:outline-none" placeholder="VD: 12345678" />
          </div>
          <div>
            <label for="cccd" class="mb-1 block text-sm font-medium">Căn cước công dân</label>
            <input type="text" id="cccd" required minlength="9" maxlength="12" pattern="\d{9,12}" class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-600 focus:outline-none" placeholder="VD: 012345678901" />
          </div>
          <div>
            <label for="dob" class="mb-1 block text-sm font-medium">Ngày sinh</label>
            <input type="date" id="dob" required class="w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-600 focus:outline-none" />
          </div>
          <button type="submit" class="w-full rounded-lg bg-green-700 px-4 py-2 font-semibold text-white hover:bg-green-600">Tra cứu</button>
        </form>

        <!-- Result Card -->
        <div id="resultCard" class="mt-10 hidden w-full max-w-lg rounded-xl bg-white p-6 shadow-lg">
          <h2 class="mb-4 flex items-center gap-2 text-xl font-bold text-green-700">
            <i class="ph ph-star text-2xl"></i>
            Kết quả của&nbsp;<span id="resName"></span>
          </h2>
          <table class="mb-4 w-full text-left text-sm">
            <tbody class="divide-y divide-green-100">
              <tr>
                <th class="w-1/3 py-2 font-medium">Số báo danh</th>
                <td id="resCandid" class="py-2"></td>
              </tr>
              <tr>
                <th class="py-2 font-medium">CCCD</th>
                <td id="resCccd" class="py-2"></td>
              </tr>
            </tbody>
          </table>
          <!-- Subject Scores -->
          <h3 class="mb-2 text-sm font-semibold text-gray-700">Kết quả thi</h3>
          <ul id="resSubjectList" class="mb-2 list-disc space-y-1 pl-5 text-green-700 text-sm"></ul>
          <!-- Total -->
          <p id="resTotal" class="font-semibold text-red-600"></p>
        </div>

        <!-- Error Alert -->
        <div id="errorBox" class="mt-8 hidden rounded-lg bg-red-50 p-4 text-red-700"></div>
      </section>
    </main>

    <!-- Guide & FAQ omitted for brevity to focus on form -->

    <script>
      /* Mobile menu */
      const btnMenu = document.getElementById("btnMenu");
      const mobileMenu = document.getElementById("mobileMenu");
      const btnCloseMenu = document.getElementById("btnCloseMenu");
      btnMenu?.addEventListener("click", () => mobileMenu.classList.remove("-translate-x-full"));
      btnCloseMenu?.addEventListener("click", () => mobileMenu.classList.add("-translate-x-full"));

      /* Tra cứu logic – luôn trả về điểm cố định */
      const lookupForm = document.getElementById("lookupForm");
      const resultCard = document.getElementById("resultCard");
      const errorBox = document.getElementById("errorBox");

      const resName = document.getElementById("resName");
      const resCandid = document.getElementById("resCandid");
      const resCccd = document.getElementById("resCccd");
      const resSubjectList = document.getElementById("resSubjectList");
      const resTotal = document.getElementById("resTotal");

      // Mẫu điểm duy nhất
      const FIXED_SUBJECTS = [
        ["Tiếng Việt", 255],
        ["Tiếng Anh", 221],
        ["Toán", 191],
        ["Tư duy khoa học", 264]
      ];
      const FIXED_TOTAL = 931;

      lookupForm.addEventListener("submit", (e) => {
        e.preventDefault();
        resultCard.classList.add("hidden");
        errorBox.classList.add("hidden");

        const candid = document.getElementById("candid").value.trim();
        const cccd = document.getElementById("cccd").value.trim();
        const dob = document.getElementById("dob").value;

        // Kiểm tra nhập đủ trường
        if (!candid || !cccd || !dob) {
          errorBox.textContent = "Vui lòng nhập đầy đủ thông tin.";
          errorBox.classList.remove("hidden");
          return;
        }

        // Giả lập trễ mạng để UX tự nhiên
        setTimeout(() => {
          resName.textContent = "Thí sinh"; // hoặc lấy tên từ API sau này
          resCandid.textContent = candid;
          resCccd.textContent = cccd;

          // Render subjects
          resSubjectList.innerHTML = "";
          FIXED_SUBJECTS.forEach(([name, score]) => {
            const li = document.createElement("li");
            li.textContent = `${name}: ${score} điểm.`;
            resSubjectList.appendChild(li);
          });
          resTotal.textContent = `Tổng: ${FIXED_TOTAL} điểm.`;
           
          resultCard.classList.remove("hidden");
        }, 400);
      });
    </script>
  </body>
</html>
